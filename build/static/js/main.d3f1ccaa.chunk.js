(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{49:function(e,t,a){},71:function(e,t,a){e.exports=a(85)},76:function(e,t,a){},85:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(8),o=a.n(i),l=(a(76),a(24)),c=a(43),s=a.n(c),u=a(52),d=a(53),f=a(54),m=a(15),v=a(64),p=a(63),h=(a(49),a(16)),g=a(18),k=a(128),S=a(2),E=a(130),b=a(131),C=a(132),y=a(133),w=a(135),H=a(142),O=a(134),j=a(40),W=a(39),T=a(57),R=a.n(T),B=a(67),N=a(3),F=Object(k.a)((function(e){return{button:{margin:e.spacing(1)},input:{display:"none"},card:{maxWidth:345,display:"inline-block",minHeight:436,overflow:"hidden"},cardAdded:{maxWidth:345,backgroundColor:"#E6E6FA",display:"inline-block",minHeight:436,overflow:"hidden"},cardRemoved:{maxWidth:345,backgroundColor:"#FFA07A",display:"inline-block",minHeight:436,overflow:"hidden"},cardHidden:Object(g.a)({maxWidth:345,backgroundColor:"yellow",display:"inline-block",minHeight:436,overflow:"hidden"},"display","none"),cardUnHidden:{maxWidth:345,backgroundColor:"yellow",display:"inline-block",minHeight:436,overflow:"hidden"},ButtonBase:{color:"blue"},AvatarButton:{fontSize:"1em"},media:{height:0,paddingTop:"56.25%"},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"},avatarRed:{backgroundColor:W.a[500]},avatarWhite:{backgroundColor:"black"},avatarDessert:{backgroundColor:"yellow",color:"black"},avatarCorovan:{backgroundColor:"green"},avatarSparkling:{backgroundColor:"blue"},lister:{listStyleType:"none"}}})),I=function(e){var t=e.data,a=e.onSelect,n=e.hideRemoved,i=(e.onCoravinSearch,e.unHideHiddenClick,e.unHideHidden);var o,l,c=F(),s=r.a.useState(!1),u=Object(h.a)(s,2),d=u[0],f=u[1];return r.a.createElement(E.a,{className:(l=t.status,"added"===l?c.cardAdded:"removed"!==l||n?"removed"===l&&n?c.cardHidden:"hidden"!==l||i?"hidden"===l&&i?c.cardUnHidden:c.card:c.cardHidden:c.cardRemoved),key:t._id,raised:!0},r.a.createElement(b.a,{avatar:r.a.createElement(H.a,{"aria-label":"recipe",className:function(e){return"red"===e?c.avatarRed:"white"===e?c.avatarWhite:"dessert"===e?c.avatarDessert:"corovan"===e?c.avatarCorovan:c.avatarSparkling}(t.color)},r.a.createElement(B.a,{value:t.color,id:"color",onClick:function(e){return a(e)},className:c.AvatarButton},function(e){return e.charAt(0).toUpperCase()}(t.color))),title:t.name,subheader:(o=t.vinyard,o===N.string&&o.toUpperCase(),r.a.createElement(B.a,{className:c.ButtonBase,id:"vinyard",value:o,onClick:function(e){return a(e)}},o))}),r.a.createElement(C.a,null,r.a.createElement(j.a,{variant:"body2",color:"textSecondary",component:"p"},"A ","",r.a.createElement(B.a,{className:c.ButtonBase,id:"coravin",onClick:function(e){return a(e)},value:t.coravin},function(e){return!0===e?"coravin":"non-coravin"}(t.coravin))," ",r.a.createElement(B.a,{className:c.ButtonBase,value:t.year,id:"year",onClick:function(e){return a(e)}},t.year)," ",r.a.createElement(B.a,{className:c.ButtonBase,component:"button",value:t.grapes,id:"grapes",onClick:function(e){return a(e)}},t.grapes)," ","from"," ",r.a.createElement(B.a,{className:c.ButtonBase,value:t.place,id:"place",onClick:function(e){return a(e)}},t.place)," ",r.a.createElement(B.a,{className:c.ButtonBase,value:t.area,id:"area",onClick:function(e){return a(e)}},t.area)," ","in ","",r.a.createElement(B.a,{className:c.ButtonBase,value:t.country,id:"country",onClick:function(e){return a(e)}},t.country)," ","served in a"," ",r.a.createElement(B.a,{className:c.ButtonBase,value:t.mise,id:"mise",onClick:function(e){return a(e)}},t.mise)," ","for $",t.price)),r.a.createElement(y.a,{disableSpacing:!0},r.a.createElement(O.a,{className:Object(S.a)(c.expand,Object(g.a)({},c.expandOpen,d)),onClick:function(){f(!d)},"aria-expanded":d,"aria-label":"show more"},r.a.createElement(R.a,null))),r.a.createElement(w.a,{in:d,timeout:"auto",unmountOnExit:!0},r.a.createElement(C.a,null,r.a.createElement(j.a,{paragraph:!0},"Grapes:"," ",t.grape.map((function(e,t){return r.a.createElement("li",{key:t},r.a.createElement(B.a,{className:c.ButtonBase,id:"grape",value:e,onClick:function(e){return a(e)}},e))}))),r.a.createElement(j.a,{paragraph:!0},"Descriptions:"," ",t.description.map((function(e,t){return r.a.createElement("li",{key:t},r.a.createElement(B.a,{className:c.ButtonBase,id:"description",value:e,onClick:function(e){return a(e)}},e))}))),r.a.createElement(j.a,{paragraph:!0},"Appellation:"," ",r.a.createElement(B.a,{className:c.ButtonBase,value:t.appellation,id:"appellation",onClick:function(e){return a(e)}},t.appellation)),r.a.createElement(j.a,{paragraph:!0},"Fun Fact: ",t.funfact))))},x=function(e){var t=e.onSelect,a=e.glasses,n=e.hideRemoved,i=a.map((function(e){return r.a.createElement(I,{data:e,key:e._id,onSelect:t,hideRemoved:n})}));return r.a.createElement("div",{className:"MobileBlock"},i)},U=a(136),A=Object(k.a)((function(e){return{progress:{margin:e.spacing(2)}}}));function D(){var e=A(),t=r.a.useState(0),a=Object(h.a)(t,2),n=a[0],i=a[1];return r.a.useEffect((function(){var e=setInterval((function(){i((function(e){return e>=100?0:e+1}))}),20);return function(){clearInterval(e)}}),[]),r.a.createElement("div",null,r.a.createElement(U.a,{className:e.progress,variant:"determinate",value:n,color:"secondary"}))}var L=a(44),_=a(140),G=a(139),z=a(137),J=a(138),M=a(143),P=a(60),$=a(144),K=Object(k.a)({list:{width:250},fullList:{width:"auto"}});function q(e){var t=K(),a=r.a.useState({top:!1,menu:!1,bottom:!1,howto:!1}),n=Object(h.a)(a,2),i=n[0],o=n[1],l=e.onClear,c=e.onSearchSelect,s=e.onSort,u=e.hideRemovedClick,d=e.unHideHiddenClick,f=e.onRemoveFilterTerms,m=e.filterTerms,v=(e.onSelect,r.a.useState(!1)),p=Object(h.a)(v,2),k=p[0],E=p[1],b=function(e){u(),E(!k)},C=r.a.useState(!0),y=Object(h.a)(C,2),w=y[0],H=y[1],O=function(e){d(),H(!w)},j=function(e){return"TRUE"==e?"coravin":"FALSE"==e?"non-coravin":e},W=r.a.useState(!1),T=Object(h.a)(W,2),R=(T[0],T[1],function(e,t){return function(a){("keydown"!==a.type||"Tab"!==a.key&&"Shift"!==a.key)&&o(Object(L.a)(Object(L.a)({},i),{},Object(g.a)({},e,t)))}}),B=function(e){return r.a.createElement("div",{className:Object(S.a)(t.list,Object(g.a)({},t.fullList,"top"===e||"bottom"===e)),role:"presentation",onClick:R(e,!1),onKeyDown:R(e,!1)},r.a.createElement(z.a,null,"Sort By:",r.a.createElement(M.a,{button:!0,onClick:function(e){return s(e)},id:"color"},"Color"),r.a.createElement(M.a,{button:!0,onClick:function(e){return s(e)},id:"status"},"Status")),r.a.createElement(J.a,null),r.a.createElement(J.a,null),r.a.createElement(J.a,null),r.a.createElement(z.a,null,"Hide Items:",r.a.createElement(M.a,{button:!0,onClick:b},0==k?"Hide Removed":"Show Removed"),r.a.createElement(M.a,{button:!0,onClick:O},0==w?"Show Retired":"Hide Retired")),r.a.createElement(J.a,null),r.a.createElement(J.a,null),r.a.createElement(J.a,null),r.a.createElement(z.a,null,"Clear:",r.a.createElement(M.a,{button:!0,onClick:l},"Clear Filters")),r.a.createElement(J.a,null),r.a.createElement(J.a,null),r.a.createElement(J.a,null),r.a.createElement(z.a,null,"How To:",r.a.createElement("br",null)," D = Dessert",r.a.createElement("br",null)," R = Red ",r.a.createElement("br",null),"S = Sparkling"," ",r.a.createElement("br",null),"W = White ",r.a.createElement("br",null),"Click on a button to sort"))};return r.a.createElement("div",{className:"TempDrawer"},["menu"].map((function(e){return r.a.createElement(r.a.Fragment,{key:e},r.a.createElement(G.a,{onClick:R(e,!0)},e),r.a.createElement(_.a,{anchor:e,open:i[e],onClose:R(e,!1)},B(e)))})),r.a.createElement(P.a,{className:t.searchBox,placeholder:"Search",data:e.allInfo,onSelect:function(e){return c(e)}}),m.map((function(e,t){return r.a.createElement("ul",{className:"list"},r.a.createElement("li",{key:t},r.a.createElement($.a,{label:j(e),onDelete:function(){return function(e){f(e)}(e)},variant:"outlined",value:e,size:"small"})))})))}var Q=function(e){Object(v.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).callBackendAPI=Object(u.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://admin-back.herokuapp.com/api");case 2:return t=e.sent,e.next=5,t.json();case 5:if(a=e.sent,200===t.status){e.next=8;break}throw Error(a.message);case 8:return e.abrupt("return",a);case 9:case"end":return e.stop()}}),e)}))),n.onSelect=function(e){var t=e.target.id,a=e.target.value.toUpperCase(),r=n.state.unFilteredWines,i=n.state.filterTermsWithId,o={id:t,value:a};i.push(o);var c=new Set(i),s=Object(l.a)(c),u=n.state.glasses,d=n.state.filterTerms;d.push(a);var f=new Set(d),m=Object(l.a)(f),v=function(e,t,a){return e.toUpperCase()},p=[];if("grape"==t)u.forEach((function(e){for(var t=e.grape.map(v),n=0;n<t.length;n++)t[n]===a&&p.unshift(e)})),console.log("grape"+p);else if("description"==t){u.forEach((function(e){for(var t=e.description.map(v),n=0;n<t.length;n++)t[n]===a&&p.unshift(e)})),console.log("desc"+p)}else if("coravin"==t){var h=u;p="TRUE"===a?h.filter((function(e){return 1==e.coravin})):h.filter((function(e){return!0!==e.coravin}))}else{p=u.filter((function(e){return function(e){if("string"===typeof e)return e.toUpperCase()}(e[t])==a}))}var g=r.filter((function(e){return!p.includes(e)}));n.setState({filterTerms:m}),n.setState({glasses:p}),n.setState({filterTermsWithId:s}),n.setState({filteredWines:g})},n.onRemoveFilterTerms=function(e){var t=n.state.filterTermsWithId,a=n.state.filterTerms,r=(n.state.filteredWines,e.toString()),i=n.state.unFilteredWines,o=(n.state.glasses,a.filter((function(e){return e.toString()!==r}))),l=t.filter((function(t){return t.value!==e}));t.filter((function(t){return t.value===e}));n.setState({filterTermsWithId:l}),n.setState({filterTerms:o});var c=function(e,t,a){return e.toUpperCase()};var s=[];if(0==o.length)s=i,n.setState({glasses:s});else{l.forEach((function(e){var t=e.id,a=e.value;if("grape"==t)i.forEach((function(e){for(var t=e.grape.map(c),n=0;n<t.length;n++)t[n]===a&&s.unshift(e)})),console.log("grape"+s);else if("description"==t){i.forEach((function(e){for(var t=e.description.map(c),n=0;n<t.length;n++)t[n]===a&&s.unshift(e)})),console.log("desc"+s)}else if("coravin"==t){var n=i;s="TRUE"===a?n.filter((function(e){return 1==e.coravin})):n.filter((function(e){return!0!==e.coravin}))}else{s=i.filter((function(e){return function(e){if("string"===typeof e)return e.toUpperCase()}(e[t])==a}))}}));var u=i.filter((function(e){return!s.includes(e)}));n.setState({glasses:s}),n.setState({filteredWines:u})}},n.onCoravinSearch=function(e){var t=e.target.id,a=e.target.value,r=n.state.filterTerms,i=n.state.glasses;("true"===a||"false"===a)&&r.push(t);var o=i.filter((function(e){return"true"===a?!0===e.coravin:"false"===a?!1===e.coravin:void 0})),c=new Set(r),s=Object(l.a)(c);n.setState({glasses:o}),n.setState({filterTerms:s})},n.onSearchSelect=function(e){var t=e.id,a=e.value.toUpperCase(),r=n.state.unFilteredWines,i=n.state.filterTermsWithId,o={id:t,value:a};i.push(o);var c=new Set(i),s=Object(l.a)(c),u=n.state.glasses,d=n.state.filterTerms;d.push(a);var f=new Set(d),m=Object(l.a)(f),v=function(e,t,a){return e.toUpperCase()},p=[];if("grape"==t)u.forEach((function(e){for(var t=e.grape.map(v),n=0;n<t.length;n++)t[n]===a&&p.unshift(e)})),console.log("grape"+p);else if("description"==t){u.forEach((function(e){for(var t=e.description.map(v),n=0;n<t.length;n++)t[n]===a&&p.unshift(e)})),console.log("desc"+p)}else if("coravin"==t){var h=u;p="TRUE"===a?h.filter((function(e){return 1==e.coravin})):h.filter((function(e){return!0!==e.coravin}))}else{p=u.filter((function(e){return function(e){if("string"===typeof e)return e.toUpperCase()}(e[t])==a}))}var g=r.filter((function(e){return!p.includes(e)}));n.setState({filterTerms:m}),n.setState({glasses:p}),n.setState({filterTermsWithId:s}),n.setState({filteredWines:g})},n.onSort=function(e){var t=n.state.unFilteredWines,a=e.target.id;if("color"==a){var r=t.sort((function(e,t){var a=e.color.toUpperCase(),n=t.color.toUpperCase();return a<n?-1:a>n?1:0}));n.setState({glasses:r})}else if("status"==a){var i={removed:1,added:2,none:3,hidden:4},o=t.sort((function(e,t){return i[e.status]-i[t.status]}));n.setState({glasses:o})}},n.hideRemovedClick=function(e){n.setState((function(e){return{hideRemoved:!n.state.hideRemoved}}))},n.unHideHiddenClick=function(e){n.setState((function(e){return{unHideHidden:!n.state.unHideHidden}}))},n.state={glasses:[],filteredWines:[],allInfo:[],hideRemoved:!1,unHideHidden:!0,unFilteredWines:[],filterTerms:[],filterTermsWithId:[]},n.onSelect=n.onSelect.bind(Object(m.a)(n)),n.onRemoveFilterTerms=n.onRemoveFilterTerms.bind(Object(m.a)(n)),n.onCoravinSearch=n.onCoravinSearch.bind(Object(m.a)(n)),n.onSearchSelect=n.onSearchSelect.bind(Object(m.a)(n)),n.onClear=n.onClear.bind(Object(m.a)(n)),n.onSort=n.onSort.bind(Object(m.a)(n)),n.hideRemovedClick=n.hideRemovedClick.bind(Object(m.a)(n)),n}return Object(f.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.callBackendAPI().then((function(t){var a=t.express,n={removed:1,added:2,none:3,hidden:4};a.sort((function(e,t){return n[e.status]-n[t.status]})),e.setState({glasses:a}),e.setState({unFilteredWines:a});var i=a.map((function(e){return[{value:e.name,id:"name",key:""},{value:e.place,id:"place",key:""},{value:e.added,id:"added",key:""},{value:e.appellation,id:"appellation",key:""},{value:e.color,id:"color",key:""},{value:e.country,id:"country",key:""},{value:e.description,id:"description",key:""},{value:e.grapes,id:"grapes",key:""},{value:e.grape,id:"grape",key:""},{value:e.mise,id:"mise",key:""},{value:e.status,id:"status",key:""},{value:e.vinyard,id:"vinyard",key:""},{value:e.year,id:"year",key:""}]})),o=[],l=i.flat(1/0);l.map((function(e){"description"==e.id&&o.unshift(e.value.map((function(e){return[{value:e,id:"description",key:""}]})))})),l.map((function(e){"grape"==e.id&&o.unshift(e.value.map((function(e){return[{value:e,id:"grape",key:""}]})))}));var c=o.flat(1/0),s=l.concat(c).filter((function(e){return"string"===typeof e.value})).filter((function(e,t,a){return t===a.findIndex((function(t){return t.value===e.value&&t.id===e.id}))})).filter((function(e){return e.value.length>0})).map((function(e,t){return{key:t.toString(),value:e.value,id:e.id}}));e.setState({allInfo:s});var u=e.state.glasses.map((function(e){return r.a.createElement("li",{key:e._id},e)}));e.setState({mappedGlasses:u})})).catch((function(e){return console.log(e)}))}},{key:"onClear",value:function(){var e=this.state.unFilteredWines;this.setState({glasses:e}),this.setState({filterTerms:[]}),this.setState({filterTermsWithId:[]}),this.setState({filteredWines:[]})}},{key:"render",value:function(){return 0===this.state.allInfo.length?r.a.createElement("div",{className:"App"},r.a.createElement(D,null)):r.a.createElement("div",{className:"App"},r.a.createElement(q,{onClear:this.onClear,onSort:this.onSort,glasses:this.state.glasses,unFilteredWines:this.state.unFilteredWines,onSearchSelect:this.onSearchSelect,allInfo:this.state.allInfo,hideRemovedClick:this.hideRemovedClick,filterTerms:this.state.filterTerms,unHideHidden:this.state.unHideHidden,unHideHiddenClick:this.unHideHiddenClick,onRemoveFilterTerms:this.onRemoveFilterTerms,onSelect:this.onSelect}),r.a.createElement(x,{glasses:this.state.glasses,wines:this.state.filteredWines,onSelect:this.onSelect,onClear:this.onClear,curItem:this.state.curItem,mappedGlasses:this.state.mappedGlasses,hideRemoved:this.state.hideRemoved,onCoravinSearch:this.onCoravinSearch,unHideHiddenClick:this.unHideHiddenClick,unHideHidden:this.state.unHideHidden}))}}]),a}(n.Component),V=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function X(e){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}})).catch((function(e){console.error("Error during service worker registration:",e)}))}o.a.render(r.a.createElement(Q,null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("/local_data",window.location).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("/local_data","/service-worker.js");V?function(e){fetch(e).then((function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):X(e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e):X(e)}))}}()}},[[71,1,2]]]);
//# sourceMappingURL=main.d3f1ccaa.chunk.js.map